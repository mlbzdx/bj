# 文章列表页逻辑

## 路由跳转逻辑

> 要实现的效果：

根据地址栏来显示不同分类的文章

| 路由规则                      | Blog页面组件                           |
| ----------------------------- | -------------------------------------- |
| /blog                         | 查看全部文章 第1页                     |
| /blog?page-3&limit=30         | 查看全部文章 第3页 每页30条信息        |
| /blog/cate/1                  | 查看分类id为1的文章                    |
| /blog/cate/4/?page=2&limit-20 | 查看分类id为4的文章 第2页 每页显示20条 |

### 第一种情况：

只需要将一个固定的地址匹配到`Blog`组件即可

```js
 {  path: "/article",  name: "Blog",  component: Blog}
```



在前面的router练习中，已经实现了以/blog开头就进行Blog组件渲染的路由规则。

### 其他情况：

1. 根据有无分类ID来获取全文或者分类ID下的文章
2. 根据有无参数来获取显示第几页和每页显示的信息条数

匹配到`Blog`组件的地址中，有一部分是动态变化的，则需要使用一种特殊的表达方式(**动态路由**)

## 组件实现逻辑

![image-20210107142310757](http://mdrs.yuanjin.tech/img/20210107142310.png)

### `BlogList`

![image-20210107153623557](http://mdrs.yuanjin.tech/img/20210107153623.png)

### `BlogCategory`

![image-20210107154531659](http://mdrs.yuanjin.tech/img/20210107154531.png)

# 涉及知识点

## 动态路由

在地址中使用`:xxx`，来表达这一部分的内容是变化的

```js
{
  path: "/article/cate/:categoryId",
  name: "CategoryBlog",
  component: Blog
}
```

在`vue-router`中，将变化的这一部分称之为`params`，可以在`vue`组件中通过`this.$route.params`来获取

```js
<router-link to="/article/cate/3">to article of category 3</router-link>

<router-link :to="{
   name: 'CategoryBlog',
   params: {
       categoryId: 3           
   }                    
}">to article of category 3</router-link>
```

## this.$route

this.$route是`vue-router`插件在`vue`中注入的原型对象，他能提供路由信息（地址栏中的各种信息，如：访问路径，动态路由等）

实例：在访问`/blog/cate/4/?page=3&limit=20`路径时，将this.$route在控制台输出如图所示：

<img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20230407175725561.png" alt="image-20230407175725561" style="zoom:150%;" />

